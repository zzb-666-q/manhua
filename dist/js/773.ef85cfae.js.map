{"version":3,"file":"js/773.ef85cfae.js","mappings":"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","sources":["webpack://manhua/./src/views/comicSearch.vue?1382","webpack://manhua/src/views/comicSearch.vue","webpack://manhua/./src/views/comicSearch.vue?37d4","webpack://manhua/./src/views/comicSearch.vue","webpack://manhua/./src/utils/errorCode.js","webpack://manhua/./src/utils/request.js","webpack://manhua/./src/api/comics.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comicsearch\"},[_c('div',{staticClass:\"search-top\"},[_c('div',{staticClass:\"val\"},[_c('span',{staticClass:\"keyword\"},[_vm._v(\"\\\"\"+_vm._s(_vm.val)+\"\\\"\")]),_vm._v(\"的搜索结果 \")])]),_c('div',{staticClass:\"searchlist\"},_vm._l((_vm.searchlist),function(item,i){return _c('div',{key:i,staticClass:\"searchlist-item\"},[_c('div',{staticClass:\"item-img\",on:{\"click\":function($event){return _vm.getId(item.id)}}},[_c('img',{attrs:{\"src\":item.vertical_cover,\"alt\":\"\"}})]),_c('div',{staticClass:\"item-text\"},[_c('div',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(item.title)},on:{\"click\":function($event){return _vm.getId(item.id)}}}),_c('div',{staticClass:\"author_name\"},_vm._l((item.author_name),function(items,v){return _c('div',{key:v,staticClass:\"author\",domProps:{\"innerHTML\":_vm._s(items)}})}),0),_c('div',{staticClass:\"styles\"},[_vm._v(_vm._s(item.styles[0]))]),_c('div',{staticClass:\"Serial\"},[_vm._v(\" \"+_vm._s(item.is_finish == 0 ? \"连载中\" : \"已完结\")+\" \")])])])}),0),_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total > 0),expression:\"total > 0\"}],attrs:{\"total\":_vm.total,\"page\":_vm.queryParams.pageNum,\"limit\":_vm.queryParams.pageSize},on:{\"update:page\":function($event){return _vm.$set(_vm.queryParams, \"pageNum\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.queryParams, \"pageSize\", $event)},\"pagination\":_vm.comicSearch}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"comicsearch\">\n    <div class=\"search-top\">\n      <div class=\"val\">\n        <span class=\"keyword\">\"{{ val }}\"</span>的搜索结果\n      </div>\n    </div>\n    <div class=\"searchlist\">\n      <div class=\"searchlist-item\" v-for=\"(item, i) in searchlist\" :key=\"i\">\n        <div class=\"item-img\" @click=\"getId(item.id)\">\n          <img :src=\"item.vertical_cover\" alt=\"\" />\n        </div>\n        <div class=\"item-text\">\n          <div class=\"title\" v-html=\"item.title\" @click=\"getId(item.id)\"></div>\n          <div class=\"author_name\">\n            <div class=\"author\" v-for=\"(items, v) in item.author_name\" :key=\"v\" v-html=\"items\"></div>\n          </div>\n          <div class=\"styles\">{{ item.styles[0] }}</div>\n          <div class=\"Serial\">\n            {{ item.is_finish == 0 ? \"连载中\" : \"已完结\" }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <pagination v-show=\"total > 0\" :total=\"total\" :page.sync=\"queryParams.pageNum\"\n        :limit.sync=\"queryParams.pageSize\" @pagination=\"comicSearch\" />\n  </div>\n</template>\n\n<script>\nimport { comicSearch } from \"@/api/comics\";\n\nexport default {\n  name: \"comicsearch\",\n  data() {\n    return {\n      searchlist: [],\n      total: 0,\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        keyWord: '斗罗'\n      },\n    };\n  },\n  created() {\n    this.val = this.$route.params.val;\n    let comicSearch = JSON.parse(localStorage.getItem(\"comicSearch\"));\n    if (!this.val) {\n      this.val = comicSearch.val;\n    }\n    this.queryParams.keyWord = this.val;\n\n    // this.comicSearch(this.val);\n    this.comicSearch();\n  },\n  methods: {\n    //漫画搜索\n    comicSearch() {\n      comicSearch(this.queryParams).then(res => {\n        this.searchlist = res.data.list;\n        this.total = res.data.total_num\n      })\n    },\n    //传递漫画的id\n    getId(comicId) {\n      this.$router.push({ name: \"cartoondetail\", params: { comicId } });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.comicsearch {\n  width: 100%;\n  height: 100%;\n\n  .search-top {\n    width: 1600px;\n    margin: 0 auto;\n    margin-bottom: 50px;\n  }\n\n  .searchlist {\n    width: 1600px;\n    margin: 0 auto;\n    display: flex;\n    flex-wrap: wrap;\n\n    .searchlist-item {\n      width: 500px;\n      display: flex;\n      margin-right: 20px;\n      margin-bottom: 20px;\n\n      .item-img {\n        margin-right: 20px;\n\n        img {\n          width: 180px;\n          height: 240px;\n        }\n      }\n\n      .item-text {\n        width: 300px;\n        position: relative;\n\n        .title {\n          width: 300px;\n          font-size: 25px;\n          margin-top: 10px;\n          display: -webkit-box;\n          -webkit-line-clamp: 1;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n\n        .author_name {\n          width: 300px;\n          display: flex;\n          height: 50px;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n          position: absolute;\n          bottom: 50px;\n\n          .author {\n            margin-right: 10px;\n            font-size: 18px;\n            color: rgba(0, 0, 0, 0.3);\n          }\n        }\n\n        .styles {\n          position: absolute;\n          bottom: 32px;\n          margin-bottom: 10px;\n          font-size: 18px;\n          color: rgba(0, 0, 0, 0.3);\n        }\n\n        .Serial {\n          position: absolute;\n          bottom: 10px;\n          font-size: 18px;\n          color: rgba(0, 0, 0, 0.3);\n        }\n      }\n\n      &:last-child {\n        display: none;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comicSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comicSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comicSearch.vue?vue&type=template&id=410bf31a&scoped=true&\"\nimport script from \"./comicSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./comicSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comicSearch.vue?vue&type=style&index=0&id=410bf31a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"410bf31a\",\n  null\n  \n)\n\nexport default component.exports","export default {\n  '401': '认证失败，无法访问系统资源',\n  '403': '当前操作没有权限',\n  '404': '访问资源不存在',\n  'default': '系统未知错误，请反馈给管理员'\n}\n","import axios from 'axios'\nimport { Notification, MessageBox, Message, Loading } from 'element-ui'\nimport store from '@/store'\nimport errorCode from '@/utils/errorCode'\nimport { tansParams, blobValidate } from \"@/utils/slms\";\n\n// let downloadLoadingInstance;\n// // 是否显示重新登录\n// export let isRelogin = { show: false };\n\naxios.defaults.headers['Content-Type'] = 'application/json;charset=utf-8'\n    // 创建axios实例\nconst service = axios.create({\n    // axios中请求配置有baseURL选项，表示请求URL公共部分\n    baseURL: 'https://apis.netstart.cn/bcomic',\n    // 超时\n    timeout: 10000\n})\n\n\n// request拦截器\nservice.interceptors.request.use(config => {\n\n\n\n    // 是否需要设置 token\n    // const isToken = (config.headers || {}).isToken === false\n    // 是否需要防止数据重复提交\n    const isRepeatSubmit = (config.headers || {}).repeatSubmit === false\n        // if (getToken() && !isToken) {\n        //   config.headers['Authorization'] = 'Bearer ' + getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\n        // }\n        // get请求映射params参数\n    if (config.method === 'get' && config.params) {\n        let url = config.url + '?' + tansParams(config.params);\n        url = url.slice(0, -1);\n        config.params = {};\n        config.url = url;\n    }\n    if (!isRepeatSubmit && (config.method === 'post' || config.method === 'put')) {\n        const requestObj = {\n            url: config.url,\n            data: typeof config.data === 'object' ? JSON.stringify(config.data) : config.data,\n            time: new Date().getTime()\n        }\n        const sessionObj = cache.session.getJSON('sessionObj')\n        if (sessionObj === undefined || sessionObj === null || sessionObj === '') {\n            cache.session.setJSON('sessionObj', requestObj)\n        } else {\n            const s_url = sessionObj.url; // 请求地址\n            const s_data = sessionObj.data; // 请求数据\n            const s_time = sessionObj.time; // 请求时间\n            const interval = 1000; // 间隔时间(ms)，小于此时间视为重复提交\n            if (s_data === requestObj.data && requestObj.time - s_time < interval && s_url === requestObj.url) {\n                const message = '数据正在处理，请勿重复提交';\n                console.warn(`[${s_url}]: ` + message)\n                return Promise.reject(new Error(message))\n            } else {\n                cache.session.setJSON('sessionObj', requestObj)\n            }\n        }\n    }\n    return config\n}, error => {\n    console.log(error)\n    Promise.reject(error)\n})\n\n// 响应拦截器\nservice.interceptors.response.use(res => {\n        // 未设置状态码则默认成功状态\n        const code = res.data.code || 200;\n        // 获取错误信息\n        const msg = errorCode[code] || res.data.msg || errorCode['default']\n            // 二进制数据则直接返回\n        if (res.request.responseType === 'blob' || res.request.responseType === 'arraybuffer') {\n            return res.data\n        }\n        if (code === 500) {\n            Message({\n                message: msg,\n                type: 'error'\n            })\n            return Promise.reject(new Error(msg))\n        } else if (code !== 200) {\n            Notification.error({\n                title: msg\n            })\n            return Promise.reject('error')\n        } else {\n            return res.data\n        }\n    },\n    error => {\n        console.log('err' + error)\n        let { message } = error;\n        if (message == \"Network Error\") {\n            message = \"后端接口连接异常\";\n        } else if (message.includes(\"timeout\")) {\n            message = \"系统接口请求超时\";\n        } else if (message.includes(\"Request failed with status code\")) {\n            message = \"系统接口\" + message.substr(message.length - 3) + \"异常\";\n        }\n        Message({\n            message: message,\n            type: 'error',\n            duration: 5 * 1000\n        })\n        return Promise.reject(error)\n    }\n)\n\n// 通用下载方法\nexport function download(url, params, filename) {\n    downloadLoadingInstance = Loading.service({ text: \"正在下载数据，请稍候\", spinner: \"el-icon-loading\", background: \"rgba(0, 0, 0, 0.7)\", })\n    return service.post(url, params, {\n        transformRequest: [(params) => { return tansParams(params) }],\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n        responseType: 'blob',\n        timeout: 3 * 60 * 1000,\n    }).then(async(data) => {\n        const isLogin = await blobValidate(data);\n        if (isLogin) {\n            const blob = new Blob([data])\n            saveAs(blob, filename)\n        } else {\n            const resText = await data.text();\n            const rspObj = JSON.parse(resText);\n            const errMsg = errorCode[rspObj.code] || rspObj.msg || errorCode['default']\n            Message.error(errMsg);\n        }\n        downloadLoadingInstance.close();\n    }).catch((r) => {\n        console.error(r)\n        Message.error('下载文件出现错误，请联系管理员！')\n        downloadLoadingInstance.close();\n    })\n}\n\nexport default service","import request from '@/utils/request'\n\n//漫画搜索\nexport function comicSearch(query) {\n  return request({\n    url: '/Search',\n    method: 'get',\n    params: query\n  })\n}\n//漫画搜索\nexport function ClassPage(query) {\n  return request({\n    url: 'ClassPage',\n    method: 'get',\n    params: query\n  })\n}\n\n// 新增承运商揽件地址绑定\nexport function addBinding(data) {\n    return request({\n      url: '/carrier/binding',\n      method: 'post',\n      data: data\n    })\n  }"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","val","_l","item","i","key","on","$event","getId","id","attrs","vertical_cover","domProps","title","items","v","styles","is_finish","directives","name","rawName","value","total","expression","queryParams","pageNum","pageSize","$set","comicSearch","staticRenderFns","data","searchlist","keyWord","created","$route","params","JSON","parse","localStorage","getItem","methods","then","res","list","total_num","comicId","$router","push","component","axios","headers","service","baseURL","timeout","interceptors","request","use","config","isRepeatSubmit","repeatSubmit","method","url","tansParams","slice","requestObj","stringify","time","Date","getTime","sessionObj","cache","session","getJSON","undefined","setJSON","s_url","s_data","s_time","interval","message","console","warn","Promise","reject","Error","error","log","response","code","msg","errorCode","responseType","Message","type","Notification","includes","substr","length","duration","query","ClassPage"],"sourceRoot":""}