"use strict";(self["webpackChunkmanhua"]=self["webpackChunkmanhua"]||[]).push([[285],{4285:function(s,t,e){e.r(t),e.d(t,{default:function(){return u}});var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"classify"},[e("div",{staticClass:"classify-top"},s._l(s.classifys,(function(t,a){return e("div",{key:a,staticClass:"classify-top-list",class:t.type},[e("div",{staticClass:"classify-top-list-item a1"},[s._v(" "+s._s(0===a?"题材":"")+s._s(1===a?"地区":"")+s._s(2===a?"进度":"")+s._s(3===a?"排序":"")+s._s(4===a?"收费":"")+" ")]),s._l(t.list,(function(a,i){return e("div",{key:i,staticClass:"classify-top-list-item",class:{active:0===i},on:{click:function(e){return s.active(t.type,a.id,e)}}},[s._v(" "+s._s(a.name)+" ")])}))],2)})),0),e("div",{staticClass:"classify-result"},[e("div",{staticClass:"classify-result-list"},s._l(s.classifyResult,(function(t,a){return e("div",{key:a,staticClass:"classify-result-list-item",on:{click:function(e){return s.getId(t.season_id)}}},[e("div",{staticClass:"classify-result-list-item-img"},[e("img",{attrs:{src:t.vertical_cover,alt:""}})]),e("div",{staticClass:"text"},[s._v(s._s(t.title))]),e("div",{staticClass:"ord"},[s._v(" "+s._s(0==t.is_finish?"更新至":"[完结] 共")+" "+s._s(t.last_ord)+" 话 ")])])})),0)]),e("div",{staticClass:"empty"},[0==s.classifyResult.length?e("el-empty",{attrs:{description:"暂无数据"}}):s._e()],1),e("pagination",{directives:[{name:"show",rawName:"v-show",value:s.total>0,expression:"total > 0"}],attrs:{align:"center",total:s.total,page:s.queryParams.pageNum,limit:s.queryParams.pageSize},on:{"update:page":function(t){return s.$set(s.queryParams,"pageNum",t)},"update:limit":function(t){return s.$set(s.queryParams,"pageSize",t)},pagination:s.getClassPage}})],1)},i=[],r=e(7344),l={name:"classify",data(){return{classifys:[],xuan:[],classifyResult:[],pageSize:39,total:100,classifyslist:[],queryParams:{styleId:"",areaId:"",isFinish:"",order:"",isFree:"",pageNum:1,pageSize:10}}},created(){this.xuan.styles=this.$route.params.styleId,this.xuan.styles?(console.log("this.xuan.styles==>",this.xuan.styles),this.getClassPage(this.xuan.styles)):this.getClassPage(),this.getClassify(),this.classifys.forEach(((s,t)=>{console.log(s)}))},methods:{getClassify(){this.axios({method:"get",url:"https://apis.netstart.cn/bcomic/AllLabel"}).then((s=>{let t={id:-1,name:"全部"},e=s.data.data,a=0;for(const r in e)"orders"!=r&&e[r].unshift(t),this.classifys.push({classifysId:a++,type:r,list:e[r]});function i(s,t){return s.classifysId-t.classifysId}this.classifys.forEach((s=>{"orders"==s.type&&(s.classifysId=4),"prices"==s.type&&(s.classifysId=3)})),this.classifys.sort(i)})).catch((s=>{console.log("err==>",s)}))},active(s,t,e){let a=document.querySelectorAll(`.${s}>.classify-top-list-item`);a.forEach((s=>{s.classList.remove("active")})),e.srcElement.classList.add("active"),s&&(this.xuan[`${s}`]=t,this.queryParams.styleId=this.xuan.styles,this.queryParams.areaId=this.xuan.areas,this.queryParams.isFinish=this.xuan.status,this.queryParams.isFree=this.xuan.prices,this.queryParams.order=this.xuan.orders,this.getClassPage(this.xuan.styles,this.xuan.areas,this.xuan.status,this.xuan.prices,this.xuan.orders))},getClassPage(s,t,e,a,i){(0,r.tC)(this.queryParams).then((s=>{this.classifyResult=s.data}))},getId(s){this.$router.push({name:"cartoondetail",params:{comicId:s}})},jiazai(){this.pageSize+=37,this.getClassPage(this.xuan.styles,this.xuan.areas,this.xuan.status,this.xuan.prices,this.xuan.orders)}}},n=l,c=e(1001),o=(0,c.Z)(n,a,i,!1,null,"574c199a",null),u=o.exports},7344:function(s,t,e){e.d(t,{tC:function(){return d},m6:function(){return u}});e(1703);var a=e(6166),i=e.n(a),r=e(4549),l=(e(615),{401:"认证失败，无法访问系统资源",403:"当前操作没有权限",404:"访问资源不存在",default:"系统未知错误，请反馈给管理员"}),n=e(4406);i().defaults.headers["Content-Type"]="application/json;charset=utf-8";const c=i().create({baseURL:"https://apis.netstart.cn/bcomic",timeout:1e4});c.interceptors.request.use((s=>{const t=!1===(s.headers||{}).repeatSubmit;if("get"===s.method&&s.params){let t=s.url+"?"+(0,n.jC)(s.params);t=t.slice(0,-1),s.params={},s.url=t}if(!t&&("post"===s.method||"put"===s.method)){const t={url:s.url,data:"object"===typeof s.data?JSON.stringify(s.data):s.data,time:(new Date).getTime()},e=cache.session.getJSON("sessionObj");if(void 0===e||null===e||""===e)cache.session.setJSON("sessionObj",t);else{const s=e.url,a=e.data,i=e.time,r=1e3;if(a===t.data&&t.time-i<r&&s===t.url){const t="数据正在处理，请勿重复提交";return console.warn(`[${s}]: `+t),Promise.reject(new Error(t))}cache.session.setJSON("sessionObj",t)}}return s}),(s=>{console.log(s),Promise.reject(s)})),c.interceptors.response.use((s=>{const t=s.data.code||200,e=l[t]||s.data.msg||l["default"];return"blob"===s.request.responseType||"arraybuffer"===s.request.responseType?s.data:500===t?((0,r.Message)({message:e,type:"error"}),Promise.reject(new Error(e))):200!==t?(r.Notification.error({title:e}),Promise.reject("error")):s.data}),(s=>{console.log("err"+s);let{message:t}=s;return"Network Error"==t?t="后端接口连接异常":t.includes("timeout")?t="系统接口请求超时":t.includes("Request failed with status code")&&(t="系统接口"+t.substr(t.length-3)+"异常"),(0,r.Message)({message:t,type:"error",duration:5e3}),Promise.reject(s)}));var o=c;function u(s){return o({url:"/Search",method:"get",params:s})}function d(s){return o({url:"ClassPage",method:"get",params:s})}}}]);
//# sourceMappingURL=285.b50bc1a2.js.map