{"version":3,"file":"js/8.b8e08245.js","mappings":"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","sources":["webpack://manhua/./src/views/CartoonDetail.vue?21dd","webpack://manhua/src/views/CartoonDetail.vue","webpack://manhua/./src/views/CartoonDetail.vue?b4aa","webpack://manhua/./src/views/CartoonDetail.vue","webpack://manhua/./src/utils/errorCode.js","webpack://manhua/./src/https/http.js","webpack://manhua/./src/api/comics.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cartoondetail\"},[_c('div',{staticClass:\"cartoondetail-content\"},[_c('div',{staticClass:\"cartoondetail-detail\"},[_c('div',{staticClass:\"detail-lt\"},[_c('div',{staticClass:\"lt-img\"},[_c('img',{attrs:{\"src\":_vm.details.vertical_cover,\"alt\":\"\"}})])]),_c('div',{staticClass:\"detail-rt\"},[_c('div',{staticClass:\"rt-title\"},[_c('h1',[_vm._v(_vm._s(_vm.details.title))])]),_c('div',{staticClass:\"rt-author\"},[_vm._v(_vm._s(_vm.author))]),(_vm.styles)?_c('div',{staticClass:\"rt-style\"},[_c('i',{staticClass:\"el-icon-price-tag\"}),_vm._v(\" \"+_vm._s(_vm.styles)+\" \")]):_vm._e(),(_vm.details.total)?_c('div',{staticClass:\"rt-total\"},[_c('i',{staticClass:\"el-icon-notebook-1\"}),_vm._v(\" 更新至 \"+_vm._s(_vm.details.total)+\" 话 \")]):_vm._e(),_c('div',{staticClass:\"rt-time\"},[_c('i',{staticClass:\"el-icon-date\"}),_vm._v(\" \"+_vm._s(_vm.details.renewal_time)+\" \")]),_c('div',{staticClass:\"rt-synopsis\"},[_vm._v(_vm._s(_vm.details.evaluate))]),_c('div',{staticClass:\"rt-button\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.getId(\n                _vm.comicId,\n                _vm.chapterlist[0][0].id,\n                _vm.chapterlist[0][0].short_title,\n                _vm.chapterlist[0][0].title\n              )}}},[_vm._v(\"开始阅读 第一话\")]),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.getCollection}},[_c('i',{staticClass:\"el-icon-star-off\",class:_vm.collection ? 'el-icon-star-on' : 'el-icon-star-off'}),_vm._v(\" 追漫 \")])],1)])])]),_c('div',{staticClass:\"cartoondetail-chapter\"},[_c('div',{staticClass:\"chapterlist\"},[_c('div',{staticClass:\"chapterlist-lt\"},[_c('div',{staticClass:\"chapter1\"},[_c('h2',[_vm._v(\"章节列表\")]),_c('div',{staticClass:\"chapter-btnlist\"},_vm._l((_vm.chapterNum),function(item,i){return _c('div',{key:i,staticClass:\"chapter-btn\"},[_c('div',{staticClass:\"btn\",class:_vm.activeBtn === i ? 'active' : 'btn',on:{\"click\":function($event){return _vm.active(i)}}},[_vm._v(\" \"+_vm._s(item.start)+\"-\"+_vm._s(item.end)+\" \")])])}),0),_c('div',{staticClass:\"chapter-list\"},_vm._l((_vm.chapterlist[_vm.activeBtn]),function(items,v){return _c('div',{key:v,staticClass:\"chapter-list-item\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":items.short_title + ' ' + items.title,\"placement\":\"top-start\"}},[_c('div',{staticClass:\"chapter-list-item-text\",on:{\"click\":function($event){return _vm.getId(_vm.comicId, items.id, items.short_title, items.title)}}},[_vm._v(\" \"+_vm._s(items.short_title)+\"  \"+_vm._s(items.title)+\" \")])]),(items.is_locked)?_c('div',{staticClass:\"chapter-list-item-lock\"},[_c('i',{staticClass:\"el-icon-lock\"})]):_vm._e()],1)}),0)]),_c('div',{staticClass:\"chapterlist-comment\"},[_c('h2',[_vm._v(\"评论\")]),_c('div',{staticClass:\"comment-top\"},[_vm._m(0),_c('div',{staticClass:\"comment-top-cnt\"},[_c('div',[_vm._v(\" 请先 \"),_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"登录\")]),_vm._v(\"  后发表评论 (・ω・) \")],1)]),_c('div',{staticClass:\"comment-top-rt\"},[_vm._v(\"发表评论\")])]),_c('div',{staticClass:\"comment-cnt\"},[_c('div',{staticClass:\"comment-cnt-list\"},_vm._l((_vm.comment),function(item,i){return _c('div',{key:i,staticClass:\"comment-cnt-list-item\"},[_c('div',{staticClass:\"item-lt\"},[_c('img',{attrs:{\"src\":item.member.avatar,\"alt\":\"\"}})]),_c('div',{staticClass:\"item-rt\"},[_c('div',{staticClass:\"username\"},[_vm._v(_vm._s(item.member.uname))]),_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(item.content.message))]),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.parseTime(item.ctime)))])])])}),0)]),_c('div',{staticClass:\"btn\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":1000},on:{\"current-change\":_vm.handleCurrentChange}})],1)])]),_c('div',{staticClass:\"chapterlist-rt\"},[_c('div',{staticClass:\"rt-top\"},[_vm._m(1),_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"plain\":\"\"},on:{\"click\":_vm.goClassify}},[_vm._v(\"更多\"),_c('i',{staticClass:\"el-icon-arrow-right\"})])],1)]),_c('div',{staticClass:\"rt-list\"},_vm._l((_vm.recomm),function(item,i){return (i < 5)?_c('div',{key:i,staticClass:\"rt-list-item\"},[_c('div',{staticClass:\"item-img\",on:{\"click\":function($event){return _vm.changeId(item.id)}}},[_c('img',{attrs:{\"src\":item.vertical_cover,\"alt\":\"\"}})]),_c('div',{staticClass:\"item-text\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"titl\"},[_vm._v(\"更新至第 \"+_vm._s(item.total)+\" 话\")])])]):_vm._e()}),0)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-top-lt\"},[_c('img',{attrs:{\"src\":\"https://static.hdslb.com/images/member/noface.gif\",\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"更多推荐\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"cartoondetail\">\r\n    <div class=\"cartoondetail-content\">\r\n      <div class=\"cartoondetail-detail\">\r\n        <div class=\"detail-lt\">\r\n          <div class=\"lt-img\">\r\n            <img :src=\"details.vertical_cover\" alt=\"\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"detail-rt\">\r\n          <div class=\"rt-title\">\r\n            <h1>{{ details.title }}</h1>\r\n          </div>\r\n          <div class=\"rt-author\">{{ author }}</div>\r\n          <div class=\"rt-style\" v-if=\"styles\">\r\n            <i class=\"el-icon-price-tag\"></i>&nbsp;{{ styles }}\r\n          </div>\r\n          <div class=\"rt-total\" v-if=\"details.total\">\r\n            <i class=\"el-icon-notebook-1\"></i>&nbsp;更新至\r\n            {{ details.total }} 话\r\n          </div>\r\n          <div class=\"rt-time\">\r\n            <i class=\"el-icon-date\"></i>&nbsp;{{ details.renewal_time }}\r\n          </div>\r\n          <div class=\"rt-synopsis\">{{ details.evaluate }}</div>\r\n          <div class=\"rt-button\">\r\n            <!-- <div>开始阅读 第一话</div>\r\n          <div><i class=\"el-icon-star-off\"></i> 追漫</div> -->\r\n\r\n            <el-button\r\n              type=\"primary\"\r\n              @click=\"\r\n                getId(\r\n                  comicId,\r\n                  chapterlist[0][0].id,\r\n                  chapterlist[0][0].short_title,\r\n                  chapterlist[0][0].title\r\n                )\r\n              \"\r\n              >开始阅读 第一话</el-button\r\n            >\r\n            <div class=\"btn\" @click=\"getCollection\">\r\n              <i\r\n                class=\"el-icon-star-off\"\r\n                :class=\"collection ? 'el-icon-star-on' : 'el-icon-star-off'\"\r\n              ></i>\r\n              追漫\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"cartoondetail-chapter\">\r\n      <div class=\"chapterlist\">\r\n        <div class=\"chapterlist-lt\">\r\n          <div class=\"chapter1\">\r\n            <h2>章节列表</h2>\r\n            <div class=\"chapter-btnlist\">\r\n              <div class=\"chapter-btn\" v-for=\"(item, i) in chapterNum\" :key=\"i\">\r\n                <div\r\n                  class=\"btn\"\r\n                  :class=\"activeBtn === i ? 'active' : 'btn'\"\r\n                  @click=\"active(i)\"\r\n                >\r\n                  {{ item.start }}-{{ item.end }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"chapter-list\">\r\n              <div\r\n                class=\"chapter-list-item\"\r\n                v-for=\"(items, v) in chapterlist[activeBtn]\"\r\n                :key=\"v\"\r\n              >\r\n                <el-tooltip\r\n                  class=\"item\"\r\n                  effect=\"dark\"\r\n                  :content=\"items.short_title + ' ' + items.title\"\r\n                  placement=\"top-start\"\r\n                >\r\n                  <div\r\n                    class=\"chapter-list-item-text\"\r\n                    @click=\"\r\n                      getId(comicId, items.id, items.short_title, items.title)\r\n                    \"\r\n                  >\r\n                    {{ items.short_title }}&nbsp; {{ items.title }}\r\n                  </div>\r\n                </el-tooltip>\r\n                <div class=\"chapter-list-item-lock\" v-if=\"items.is_locked\">\r\n                  <i class=\"el-icon-lock\"></i>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"chapterlist-comment\">\r\n            <h2>评论</h2>\r\n            <div class=\"comment-top\">\r\n              <div class=\"comment-top-lt\">\r\n                <img\r\n                  src=\"https://static.hdslb.com/images/member/noface.gif\"\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n              <div class=\"comment-top-cnt\">\r\n                <div>\r\n                  请先&nbsp;<el-button type=\"primary\">登录</el-button\r\n                  >&nbsp;&nbsp;后发表评论 (・ω・)\r\n                </div>\r\n              </div>\r\n              <div class=\"comment-top-rt\">发表评论</div>\r\n            </div>\r\n            <div class=\"comment-cnt\">\r\n              <div class=\"comment-cnt-list\">\r\n                <div\r\n                  class=\"comment-cnt-list-item\"\r\n                  v-for=\"(item, i) in comment\"\r\n                  :key=\"i\"\r\n                >\r\n                  <div class=\"item-lt\">\r\n                    <img :src=\"item.member.avatar\" alt=\"\" />\r\n                  </div>\r\n                  <div class=\"item-rt\">\r\n                    <div class=\"username\">{{ item.member.uname }}</div>\r\n                    <div class=\"text\">{{ item.content.message }}</div>\r\n                    <div class=\"time\">{{ parseTime(item.ctime) }}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"btn\">\r\n              <el-pagination\r\n                background\r\n                layout=\"prev, pager, next\"\r\n                :total=\"1000\"\r\n                @current-change=\"handleCurrentChange\"\r\n              >\r\n              </el-pagination>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"chapterlist-rt\">\r\n          <div class=\"rt-top\">\r\n            <div>\r\n              <h2>更多推荐</h2>\r\n            </div>\r\n            <div>\r\n              <el-button type=\"primary\" round plain @click=\"goClassify\"\r\n                >更多<i class=\"el-icon-arrow-right\"></i\r\n              ></el-button>\r\n            </div>\r\n          </div>\r\n          <div class=\"rt-list\">\r\n            <div\r\n              class=\"rt-list-item\"\r\n              v-for=\"(item, i) in recomm\"\r\n              :key=\"i\"\r\n              v-if=\"i < 5\"\r\n            >\r\n              <div class=\"item-img\" @click=\"changeId(item.id)\">\r\n                <img :src=\"item.vertical_cover\" alt=\"\" />\r\n              </div>\r\n              <div class=\"item-text\">\r\n                <div class=\"title\">{{ item.title }}</div>\r\n                <!-- <div class=\"titl\">{{ item.authors[0].cname }}</div> -->\r\n                <!-- <div class=\"titl\">{{ item.styles[0].name }}</div> -->\r\n                <div class=\"titl\">更新至第 {{ item.total }} 话</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getComicDetail, getRecomm, getReplyMain } from \"@/api/comics\";\r\nexport default {\r\n  name: \"cartoondetail\",\r\n  data() {\r\n    return {\r\n      //收藏\r\n      collection: false,\r\n      //漫画详情\r\n      details: [],\r\n      //作者\r\n      author: \"\",\r\n      //漫画类型\r\n      styles: \"\",\r\n      chapterNum: [],\r\n      //章节列表\r\n      chapterlist: [],\r\n      //按钮点击\r\n      activeBtn: 0,\r\n      //更多推荐\r\n      recomm: [],\r\n      //分页\r\n      next: 1,\r\n      //评论\r\n      comment: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.comicId = this.$route.params.comicId;\r\n    let comicIds = JSON.parse(localStorage.getItem(\"comicIds\"));\r\n    if (!this.comicId) {\r\n      this.comicId = comicIds.comicId;\r\n    } else {\r\n      this.localStorage(this.comicId);\r\n    }\r\n    this.getCartoonDetail(this.comicId);\r\n    this.getRecomm(this.comicId);\r\n    this.getComment(this.next);\r\n  },\r\n  mounted() {\r\n    console.log(\"mounted\");\r\n    console.log(`output->window`, window);\r\n    window.scrollY = 0;\r\n  },\r\n  destroyed() {\r\n    console.log(\"destroyed\");\r\n  },\r\n  methods: {\r\n    //漫画详情\r\n    getCartoonDetail(comicId) {\r\n      let params = {\r\n        comicId,\r\n      };\r\n      getComicDetail(params).then((result) => {\r\n          this.details = result.data;\r\n          this.author = result.data.author_name[0];\r\n          this.styles = result.data.styles[0];\r\n          let ep_list = result.data.ep_list.reverse();\r\n          this.listlength = ep_list.length;\r\n          for (let index = 0; index < ep_list.length; index += 50) {\r\n            this.chapterNum.push({\r\n              start: index + 1,\r\n              end: index + 50,\r\n            });\r\n            this.chapterlist.push(ep_list.slice(index, index + 50));\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n    //点击收藏\r\n    getCollection() {\r\n      this.collection = !this.collection;\r\n      if (this.collection) {\r\n        //成功消息提示\r\n        this.$message({\r\n          showClose: true,\r\n          message: \"已成功添加进追漫！\",\r\n          type: \"success\",\r\n        });\r\n      } else {\r\n      }\r\n    },\r\n    //章节选项\r\n    active(i) {\r\n      this.activeBtn = i;\r\n    },\r\n    //更多推荐\r\n    getRecomm(comicId) {\r\n      let params = {\r\n        comicId,\r\n      };\r\n      getRecomm(params).then((result) => {\r\n          this.recomm = result.data.recommend_comics;\r\n          console.log(\"this.recomm\", this.recomm);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"err==>\", err);\r\n        });\r\n    },\r\n    //点击变更为其他漫画\r\n    changeId(comicId) {\r\n      //漫画详情\r\n      (this.details = []),\r\n        //章节列表\r\n        (this.chapterlist = []),\r\n        //更多推荐\r\n        (this.recomm = []),\r\n        (this.chapterNum = []),\r\n        (this.comicId = comicId);\r\n\r\n      this.getCartoonDetail(comicId);\r\n      this.getRecomm(comicId);\r\n      this.localStorage(comicId);\r\n      window.scrollTo(0, 0);\r\n    },\r\n    //传递id到漫画内容页面\r\n    getId(comicId, epId, short_title, title) {\r\n      console.log(\"comicId ==> \", comicId);\r\n      this.$router.push({ name: \"comiccontent\", params: { epId, comicId } });\r\n\r\n      //存储到本地\r\n      localStorage.setItem(\r\n        \"comicIds\",\r\n        JSON.stringify({\r\n          comicId: comicId,\r\n          epId: epId,\r\n          short_title: short_title,\r\n          title: title,\r\n        })\r\n      );\r\n    },\r\n    //评论\r\n    getComment(next) {\r\n      let params = {\r\n        oid: this.comicId,\r\n          ps: 10,\r\n          next,\r\n      };\r\n      getReplyMain(params).then((result) => {\r\n          this.comment = result.data.replies;\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"err==>\", err);\r\n        });\r\n    },\r\n    //存储到本地\r\n    localStorage(comicId) {\r\n      localStorage.setItem(\r\n        \"comicIds\",\r\n        JSON.stringify({\r\n          comicId: comicId,\r\n        })\r\n      );\r\n    },\r\n    //前往分类页面\r\n    goClassify() {\r\n      this.$router.push({ name: \"classify\" });\r\n      setTimeout(() => {\r\n        this.$router.go(0);\r\n      }, 1000);\r\n    },\r\n    //分页\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.next = val;\r\n      this.comment = [];\r\n      this.getComment(this.next);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.cartoondetail {\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  h2 {\r\n    .text_overflow;\r\n  }\r\n\r\n  .cartoondetail-content {\r\n    // width: 1400px;\r\n    width: 72.9%;\r\n    margin: 0 auto;\r\n    box-shadow: 0px 0px 2px 2px rgba(200, 200, 200, 0.5);\r\n    margin-bottom: 20px;\r\n\r\n    .cartoondetail-detail {\r\n      display: flex;\r\n      padding: 20px;\r\n\r\n      .detail-lt {\r\n        width: 340px;\r\n\r\n        .lt-img {\r\n          img {\r\n            width: 300px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .detail-rt {\r\n        width: 1000px;\r\n        padding-left: 20px;\r\n        position: relative;\r\n\r\n        .rt-title {\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .rt-author {\r\n          margin-bottom: 20px;\r\n          color: rgba(0, 0, 0, 0.56);\r\n        }\r\n\r\n        .rt-style {\r\n          margin-bottom: 20px;\r\n          color: rgba(0, 0, 0, 0.34);\r\n        }\r\n\r\n        .rt-total {\r\n          margin-bottom: 20px;\r\n          color: rgba(0, 0, 0, 0.34);\r\n        }\r\n\r\n        .rt-time {\r\n          margin-bottom: 20px;\r\n          color: rgba(0, 0, 0, 0.34);\r\n        }\r\n\r\n        .rt-synopsis {\r\n          // margin-bottom: 30px;\r\n          color: rgba(0, 0, 0, 0.56);\r\n          display: -webkit-box;\r\n          -webkit-line-clamp: 3;\r\n          -webkit-box-orient: vertical;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .rt-button {\r\n          display: flex;\r\n          position: absolute;\r\n          bottom: 2px;\r\n\r\n          .el-button {\r\n            font-size: 20px;\r\n          }\r\n\r\n          .btn {\r\n            text-align: center;\r\n            width: 100px;\r\n            height: 45px;\r\n            line-height: 45px;\r\n            margin-left: 30px;\r\n            border: 1px solid #000;\r\n            border-radius: 5px;\r\n            cursor: pointer;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .cartoondetail-chapter {\r\n    // width: 1400px;\r\n    width: 72.9%;\r\n    margin: 0 auto;\r\n\r\n    .chapterlist {\r\n      display: flex;\r\n\r\n      .chapterlist-lt {\r\n        // width: 1000px;\r\n        width: 71.4%;\r\n        margin-right: 30px;\r\n        box-shadow: 0px 0px 2px 2px rgba(200, 200, 200, 0.5);\r\n        padding: 20px;\r\n\r\n        h2 {\r\n          margin-left: 20px;\r\n        }\r\n\r\n        .chapter1 {\r\n          width: 100%;\r\n          margin-bottom: 20px;\r\n\r\n          .chapter-btnlist {\r\n            width: 100%;\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            margin-top: 20px;\r\n            padding-left: 15px;\r\n            margin-bottom: 10px;\r\n\r\n            .chapter-btn {\r\n              text-align: center;\r\n              margin-right: 20px;\r\n              margin-bottom: 20px;\r\n\r\n              .btn {\r\n                font-size: 15px;\r\n                width: 120px;\r\n                height: 40px;\r\n                line-height: 40px;\r\n                background-color: #f5f7f8;\r\n                border-radius: 20px;\r\n                cursor: pointer;\r\n                &.active,\r\n                &:hover {\r\n                  background-color: rgb(186, 240, 231);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          .chapter-list {\r\n            // width: 1100px;\r\n\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            justify-content: space-between;\r\n            padding-left: 10px;\r\n\r\n            .chapter-list-item {\r\n              // width: 200px;\r\n              width: 24%;\r\n              height: 42px;\r\n              line-height: 42px;\r\n              // margin-right: 25px;\r\n              margin-bottom: 20px;\r\n              padding-left: 10px;\r\n              padding-right: 10px;\r\n              box-shadow: 0px 0px 2px 2px rgba(200, 200, 200, 0.5);\r\n              box-sizing: border-box;\r\n              display: flex;\r\n              cursor: pointer;\r\n\r\n              &:last-child:nth-child(4n - 1) {\r\n                margin-right: calc(24% + 4% / 3);\r\n              }\r\n\r\n              &:last-child:nth-child(4n - 2) {\r\n                margin-right: calc(48% + 8% / 3);\r\n              }\r\n\r\n              .chapter-list-item-text {\r\n                font-size: 18px;\r\n                width: 180px;\r\n                display: -webkit-box;\r\n                -webkit-line-clamp: 1;\r\n                -webkit-box-orient: vertical;\r\n                overflow: hidden;\r\n              }\r\n\r\n              &:hover {\r\n                background-color: rgb(186, 240, 231);\r\n                cursor: pointer;\r\n              }\r\n\r\n              .el-icon-lock {\r\n                color: gold;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        .chapterlist-comment {\r\n          box-sizing: border-box;\r\n\r\n          .comment-top {\r\n            margin-top: 50px;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            height: 80px;\r\n            margin-bottom: 50px;\r\n\r\n            .comment-top-lt {\r\n              width: 12%;\r\n\r\n              img {\r\n                width: 70px;\r\n                border-radius: 100%;\r\n              }\r\n            }\r\n\r\n            .comment-top-cnt {\r\n              // width: 800px;\r\n              width: 75%;\r\n\r\n              height: 80px;\r\n              line-height: 80px;\r\n              text-align: center;\r\n              background-color: #eee;\r\n              margin-right: 20px;\r\n              border-radius: 10px;\r\n            }\r\n\r\n            .comment-top-rt {\r\n              width: 70px;\r\n              // width: 5%;\r\n\r\n              // height: 80px;\r\n              background-color: #eee;\r\n              // margin-right: 20px;\r\n              padding: 15px;\r\n              border-radius: 10px;\r\n              line-height: 1.3;\r\n            }\r\n          }\r\n\r\n          .comment-cnt {\r\n            display: flex;\r\n            align-items: center;\r\n\r\n            .comment-cnt-list {\r\n              .comment-cnt-list-item {\r\n                display: flex;\r\n                margin-bottom: 50px;\r\n\r\n                .item-lt {\r\n                  margin-right: 20px;\r\n\r\n                  img {\r\n                    width: 70px;\r\n                    border-radius: 100%;\r\n                  }\r\n                }\r\n\r\n                .item-rt {\r\n                  .username {\r\n                    color: #6d757a;\r\n                    margin-bottom: 5px;\r\n                  }\r\n\r\n                  .text {\r\n                    margin-bottom: 10px;\r\n                    // margin-right: 20px;\r\n                    // .text_overflow(3);\r\n                  }\r\n\r\n                  .time {\r\n                    color: #99a2aa;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          .btn {\r\n            text-align: center;\r\n\r\n            /deep/.el-pager li {\r\n              width: 40px;\r\n              height: 40px;\r\n              line-height: 40px;\r\n            }\r\n\r\n            /deep/.btn-prev {\r\n              width: 40px;\r\n              height: 40px;\r\n            }\r\n\r\n            /deep/.btn-next {\r\n              width: 40px;\r\n              height: 40px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .chapterlist-rt {\r\n        // width: 400px;\r\n        width: calc(100% - 71.4%);\r\n        height: 930px;\r\n        padding: 20px 30px 20px 30px;\r\n        box-shadow: 0px 0px 2px 2px rgba(200, 200, 200, 0.5);\r\n\r\n        .rt-top {\r\n          width: 100%;\r\n          display: flex;\r\n          justify-content: space-between;\r\n        }\r\n\r\n        .rt-list {\r\n          margin-top: 20px;\r\n\r\n          .rt-list-item {\r\n            display: flex;\r\n            margin-bottom: 20px;\r\n\r\n            .item-img {\r\n              margin-right: 20px;\r\n\r\n              img {\r\n                width: 120px;\r\n                height: 150px;\r\n              }\r\n            }\r\n\r\n            .item-text {\r\n              // padding-left: 10px;\r\n              .title {\r\n                display: -webkit-box;\r\n                -webkit-line-clamp: 1;\r\n                -webkit-box-orient: vertical;\r\n                overflow: hidden;\r\n                font-size: 20px;\r\n                margin-bottom: 30px;\r\n              }\r\n\r\n              .titl {\r\n                display: -webkit-box;\r\n                -webkit-line-clamp: 1;\r\n                -webkit-box-orient: vertical;\r\n                overflow: hidden;\r\n                font-size: 15px;\r\n                color: rgba(0, 0, 0, 0.56);\r\n                margin-top: 15px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartoonDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartoonDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartoonDetail.vue?vue&type=template&id=83e44abe&scoped=true&\"\nimport script from \"./CartoonDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./CartoonDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartoonDetail.vue?vue&type=style&index=0&id=83e44abe&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"83e44abe\",\n  null\n  \n)\n\nexport default component.exports","export default {\r\n  '401': '认证失败，无法访问系统资源',\r\n  '403': '当前操作没有权限',\r\n  '404': '访问资源不存在',\r\n  'default': '系统未知错误，请反馈给管理员'\r\n}\r\n","import axios from 'axios';\r\nimport { Notification, MessageBox, Message, Loading } from 'element-ui';\r\nimport errorCode from '@/utils/errorCode'\r\nimport { tansParams, blobValidate } from \"@/utils/slms\";\r\n// import { tokenUrl } from \"@/tokenUrl/tokenUrl.js\";\r\n// import store from \"@/store\";\r\n\r\n// // 是否显示重新登录\r\nexport let isRelogin = { show: false };\r\n\r\naxios.defaults.headers['Content-Type'] = 'application/json;charset=utf-8'\r\n// 创建axios实例\r\nconst service = axios.create({\r\n  // axios中请求配置有baseURL选项，表示请求URL公共部分\r\n  baseURL: '/apis',\r\n\r\n  // 超时\r\n  timeout: 10000\r\n})\r\n\r\n// 正在进行中的请求列表\r\nlet reqList = []\r\n\r\n/**\r\n * 阻止重复请求\r\n * @param {array} reqList - 请求缓存列表\r\n * @param {string} url - 当前请求地址\r\n * @param {function} cancel - 请求中断函数\r\n * @param {string} errorMessage - 请求中断时需要显示的错误信息\r\n */\r\nconst stopRepeatRequest = function (reqList, url, cancel, errorMessage) {\r\n  const errorMsg = errorMessage || ''\r\n  for (let i = 0; i < reqList.length; i++) {\r\n    if (reqList[i] === url) {\r\n      cancel(errorMsg)\r\n      return\r\n    }\r\n  }\r\n  reqList.push(url);\r\n}\r\n\r\n/**\r\n * 允许某个请求可以继续进行\r\n * @param {array} reqList 全部请求列表\r\n * @param {string} url 请求地址\r\n */\r\nconst allowRequest = function (reqList, url) {\r\n  for (let i = 0; i < reqList.length; i++) {\r\n    if (reqList[i] === url) {\r\n      reqList.splice(i, 1)\r\n      break\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// request拦截器\r\nservice.interceptors.request.use(config => {\r\n  // 是否需要设置 token\r\n  // const isToken = (config.headers || {}).isToken === false\r\n  // 是否需要防止数据重复提交\r\n  const isRepeatSubmit = (config.headers || {}).repeatSubmit === false;\r\n\r\n  // if (tokenUrl.indexOf(config.url) > -1) {\r\n  //   //获取cookie\r\n  //   let token = Vue.$cookies.get(\"token\");\r\n\r\n  //   //将token挂在到请求头中\r\n  //   config.headers.token = token;\r\n  // }\r\n  // if (getToken() && !isToken) {\r\n  //   config.headers['Authorization'] = 'Bearer ' + getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\r\n  // }\r\n  // get请求映射params参数\r\n  if (config.method === 'get' && config.params) {\r\n    let url = config.url + '?' + tansParams(config.params);\r\n    url = url.slice(0, -1);\r\n    config.params = {};\r\n    config.url = url;\r\n  }\r\n\r\n\r\n  // /**\r\n  //  * 阻止重复请求。当上个请求未完成时，相同的请求不会进行\r\n  //  */\r\n  // let cancel;\r\n  // // 设置cancelToken对象\r\n  // config.cancelToken = new axios.CancelToken(function (c) {\r\n  //   cancel = c\r\n  // })\r\n  // // 阻止重复请求。当上个请求未完成时，相同的请求不会进行\r\n  // stopRepeatRequest(reqList, config.url, cancel, `${config.url} 请求被中断`);\r\n\r\n  // removereqQueue(config); // 检查是否重复发送请求\r\n  // addreqQueue(config); //将本次请求加入请求队列\r\n\r\n  return config\r\n}, error => {\r\n  Promise.reject(error)\r\n})\r\n// const interval = 1000;      // 请求间隔时间(ms)，小于此时间视为重复提交\r\n// service.interceptors.response.use(\r\n//   (res) => {\r\n//     // 增加延迟，相同请求不得在短时间内重复发送\r\n//     setTimeout(() => {\r\n//       allowRequest(reqList, res.config.url)\r\n//     }, interval)\r\n//     // ...请求成功后的后续操作\r\n//     // successHandler(response)\r\n//     return res\r\n//   },\r\n//   (error) => {\r\n//     if (axios.isCancel(thrown)) {\r\n//       console.log(thrown.message);\r\n//     } else {\r\n//       // 增加延迟，相同请求不得在短时间内重复发送\r\n//       setTimeout(() => {\r\n//         allowRequest(reqList, error.config.url)\r\n//       }, interval)\r\n//     }\r\n//   }\r\n// )\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(res => {\r\n  // 未设置状态码则默认成功状态\r\n  const code = res.data.code || 200;\r\n  // 获取错误信息\r\n  const msg = errorCode[code] || res.data.msg || errorCode['default']\r\n  // 二进制数据则直接返回\r\n  if (res.request.responseType === 'blob' || res.request.responseType === 'arraybuffer') {\r\n    return res.data  //返回调用接口后获取的数据里data里数据\r\n    // return res //返回调用接口后获取的数据\r\n  }\r\n  if (code === 500) {\r\n    Message({\r\n      message: msg,\r\n      type: 'error'\r\n    })\r\n    return Promise.reject(new Error(msg))\r\n  } else if (code !== 200) {\r\n    Notification.error({\r\n      title: msg\r\n    })\r\n    return Promise.reject('error')\r\n  } else {\r\n    return res.data\r\n  }\r\n},\r\n  error => {\r\n    console.log('err' + error)\r\n    let { message } = error;\r\n    if (message == \"Network Error\") {\r\n      message = \"后端接口连接异常\";\r\n    }\r\n    else if (message.includes(\"timeout\")) {\r\n      message = \"系统接口请求超时\";\r\n    }\r\n    else if (message.includes(\"Request failed with status code\")) {\r\n      message = \"系统接口\" + message.substr(message.length - 3) + \"异常\";\r\n    }\r\n    Message({\r\n      message: message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n\r\n\r\n// 通用下载方法\r\nexport function download(url, params, filename) {\r\n  downloadLoadingInstance = Loading.service({ text: \"正在下载数据，请稍候\", spinner: \"el-icon-loading\", background: \"rgba(0, 0, 0, 0.7)\", })\r\n  return service.post(url, params, {\r\n    transformRequest: [(params) => { return tansParams(params) }],\r\n    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n    responseType: 'blob',\r\n    timeout: 3 * 60 * 1000,\r\n  }).then(async (data) => {\r\n    const isLogin = await blobValidate(data);\r\n    if (isLogin) {\r\n      const blob = new Blob([data])\r\n      saveAs(blob, filename)\r\n    } else {\r\n      const resText = await data.text();\r\n      const rspObj = JSON.parse(resText);\r\n      const errMsg = errorCode[rspObj.code] || rspObj.msg || errorCode['default']\r\n      Message.error(errMsg);\r\n    }\r\n    downloadLoadingInstance.close();\r\n  }).catch((r) => {\r\n    console.error(r)\r\n    Message.error('下载文件出现错误，请联系管理员！')\r\n    downloadLoadingInstance.close();\r\n  })\r\n}\r\n\r\nexport default service\r\n","import request from '@/https/http.js';\r\n//首页 获取轮播图\r\nexport function getBanner(query) {\r\n  return request({\r\n    url: '/Banner',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n\r\n//首页 获取分类列表\r\nexport function getClassify(query) {\r\n  return request({\r\n    url: '/AllLabel',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//首页 获取为你推荐列表\r\nexport function getCommend(query) {\r\n  return request({\r\n    url: '/HomeRecommend',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//首页 热门速递列表\r\nexport function getHotlist(query) {\r\n  return request({\r\n    url: '/GetClassPageSixComics',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n\r\n//漫画搜索\r\nexport function comicSearch(query) {\r\n  return request({\r\n    url: '/Search',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//漫画分类列表\r\nexport function ClassPage(query) {\r\n  return request({\r\n    url: '/ClassPage',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n\r\n//漫画详情\r\nexport function getComicDetail(query) {\r\n  return request({\r\n    url: '/ComicDetail',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//漫画更多推荐列表\r\nexport function getRecomm(query) {\r\n  return request({\r\n    url: '/MoreRecommend',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//漫画评论\r\nexport function getReplyMain(query) {\r\n  return request({\r\n    url: '/ReplyMain',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n\r\n//获取排行榜\r\nexport function getRankInfo(query) {\r\n  return request({\r\n    url: '/GetRankInfo',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//漫画获取图片地址列表\r\nexport function getImageIndex(query) {\r\n  return request({\r\n    url: '/GetImageIndex',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//漫画图片\r\nexport function getImageToken(query) {\r\n  return request({\r\n    url: '/ImageToken',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n\r\n\r\n// export function addBinding(data) {\r\n//   return request({\r\n//     url: '/carrier/binding',\r\n//     method: 'post',\r\n//     data: data,\r\n//   });\r\n// }\r\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","details","vertical_cover","_v","_s","title","author","styles","_e","total","renewal_time","evaluate","on","$event","getId","comicId","chapterlist","id","short_title","getCollection","class","collection","_l","item","i","key","activeBtn","active","start","end","items","v","_m","member","avatar","uname","content","message","parseTime","ctime","handleCurrentChange","goClassify","changeId","staticRenderFns","name","data","chapterNum","recomm","next","comment","created","$route","params","comicIds","JSON","parse","localStorage","getItem","getCartoonDetail","getRecomm","getComment","mounted","console","log","window","scrollY","destroyed","methods","getComicDetail","then","catch","err","$message","showClose","type","scrollTo","epId","$router","push","setItem","oid","ps","getReplyMain","setTimeout","go","val","component","axios","headers","service","baseURL","timeout","interceptors","request","use","config","repeatSubmit","method","url","tansParams","slice","error","Promise","reject","response","res","code","msg","errorCode","responseType","Message","Error","Notification","includes","substr","length","duration","getBanner","query","getClassify","getCommend","getHotlist","comicSearch","ClassPage","getRankInfo","getImageIndex","getImageToken"],"sourceRoot":""}