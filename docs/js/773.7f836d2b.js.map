{"version":3,"file":"js/773.7f836d2b.js","mappings":"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","sources":["webpack://manhua/./src/views/comicSearch.vue?1382","webpack://manhua/src/views/comicSearch.vue","webpack://manhua/./src/views/comicSearch.vue?37d4","webpack://manhua/./src/views/comicSearch.vue","webpack://manhua/./src/utils/errorCode.js","webpack://manhua/./src/https/http.js","webpack://manhua/./src/api/comics.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comicsearch\"},[_c('div',{staticClass:\"search-top\"},[_c('div',{staticClass:\"val\"},[_c('span',{staticClass:\"keyword\"},[_vm._v(\"\\\"\"+_vm._s(_vm.val)+\"\\\"\")]),_vm._v(\"的搜索结果 \")])]),_c('div',{staticClass:\"searchlist\"},_vm._l((_vm.searchlist),function(item,i){return _c('div',{key:i,staticClass:\"searchlist-item\"},[_c('div',{staticClass:\"item-img\",on:{\"click\":function($event){return _vm.getId(item.id)}}},[_c('img',{attrs:{\"src\":item.vertical_cover,\"alt\":\"\"}})]),_c('div',{staticClass:\"item-text\"},[_c('div',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(item.title)},on:{\"click\":function($event){return _vm.getId(item.id)}}}),_c('div',{staticClass:\"author_name\"},_vm._l((item.author_name),function(items,v){return _c('div',{key:v,staticClass:\"author\",domProps:{\"innerHTML\":_vm._s(items)}})}),0),_c('div',{staticClass:\"styles\"},[_vm._v(_vm._s(item.styles[0]))]),_c('div',{staticClass:\"Serial\"},[_vm._v(\" \"+_vm._s(item.is_finish == 0 ? \"连载中\" : \"已完结\")+\" \")])])])}),0),_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total > 0),expression:\"total > 0\"}],attrs:{\"total\":_vm.total,\"page\":_vm.queryParams.pageNum,\"limit\":_vm.queryParams.pageSize},on:{\"update:page\":function($event){return _vm.$set(_vm.queryParams, \"pageNum\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.queryParams, \"pageSize\", $event)},\"pagination\":_vm.comicSearch}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comicsearch\">\r\n    <div class=\"search-top\">\r\n      <div class=\"val\">\r\n        <span class=\"keyword\">\"{{ val }}\"</span>的搜索结果\r\n      </div>\r\n    </div>\r\n    <div class=\"searchlist\">\r\n      <div class=\"searchlist-item\" v-for=\"(item, i) in searchlist\" :key=\"i\">\r\n        <div class=\"item-img\" @click=\"getId(item.id)\">\r\n          <img :src=\"item.vertical_cover\" alt=\"\" />\r\n        </div>\r\n        <div class=\"item-text\">\r\n          <div class=\"title\" v-html=\"item.title\" @click=\"getId(item.id)\"></div>\r\n          <div class=\"author_name\">\r\n            <div class=\"author\" v-for=\"(items, v) in item.author_name\" :key=\"v\" v-html=\"items\"></div>\r\n          </div>\r\n          <div class=\"styles\">{{ item.styles[0] }}</div>\r\n          <div class=\"Serial\">\r\n            {{ item.is_finish == 0 ? \"连载中\" : \"已完结\" }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <pagination v-show=\"total > 0\" :total=\"total\" :page.sync=\"queryParams.pageNum\"\r\n        :limit.sync=\"queryParams.pageSize\" @pagination=\"comicSearch\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { comicSearch } from \"@/api/comics\";\r\n\r\nexport default {\r\n  name: \"comicsearch\",\r\n  data() {\r\n    return {\r\n      searchlist: [],\r\n      total: 0,\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        keyWord: '斗罗'\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.val = this.$route.params.val;\r\n    let comicSearch = JSON.parse(localStorage.getItem(\"comicSearch\"));\r\n    if (!this.val) {\r\n      this.val = comicSearch.val;\r\n    }\r\n    this.queryParams.keyWord = this.val;\r\n\r\n    // this.comicSearch(this.val);\r\n    this.comicSearch();\r\n  },\r\n  methods: {\r\n    //漫画搜索\r\n    comicSearch() {\r\n      comicSearch(this.queryParams).then(res => {\r\n        this.searchlist = res.data.list;\r\n        this.total = res.data.total_num\r\n      })\r\n    },\r\n    //传递漫画的id\r\n    getId(comicId) {\r\n      this.$router.push({ name: \"cartoondetail\", params: { comicId } });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comicsearch {\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  .search-top {\r\n    width: 1600px;\r\n    margin: 0 auto;\r\n    margin-bottom: 50px;\r\n  }\r\n\r\n  .searchlist {\r\n    width: 1600px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n\r\n    .searchlist-item {\r\n      width: 500px;\r\n      display: flex;\r\n      margin-right: 20px;\r\n      margin-bottom: 20px;\r\n\r\n      .item-img {\r\n        margin-right: 20px;\r\n\r\n        img {\r\n          width: 180px;\r\n          height: 240px;\r\n        }\r\n      }\r\n\r\n      .item-text {\r\n        width: 300px;\r\n        position: relative;\r\n\r\n        .title {\r\n          width: 300px;\r\n          font-size: 25px;\r\n          margin-top: 10px;\r\n          display: -webkit-box;\r\n          -webkit-line-clamp: 1;\r\n          -webkit-box-orient: vertical;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .author_name {\r\n          width: 300px;\r\n          display: flex;\r\n          height: 50px;\r\n          white-space: nowrap;\r\n          text-overflow: ellipsis;\r\n          overflow: hidden;\r\n          position: absolute;\r\n          bottom: 50px;\r\n\r\n          .author {\r\n            margin-right: 10px;\r\n            font-size: 18px;\r\n            color: rgba(0, 0, 0, 0.3);\r\n          }\r\n        }\r\n\r\n        .styles {\r\n          position: absolute;\r\n          bottom: 32px;\r\n          margin-bottom: 10px;\r\n          font-size: 18px;\r\n          color: rgba(0, 0, 0, 0.3);\r\n        }\r\n\r\n        .Serial {\r\n          position: absolute;\r\n          bottom: 10px;\r\n          font-size: 18px;\r\n          color: rgba(0, 0, 0, 0.3);\r\n        }\r\n      }\r\n\r\n      &:last-child {\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comicSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comicSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comicSearch.vue?vue&type=template&id=410bf31a&scoped=true&\"\nimport script from \"./comicSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./comicSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comicSearch.vue?vue&type=style&index=0&id=410bf31a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"410bf31a\",\n  null\n  \n)\n\nexport default component.exports","export default {\r\n  '401': '认证失败，无法访问系统资源',\r\n  '403': '当前操作没有权限',\r\n  '404': '访问资源不存在',\r\n  'default': '系统未知错误，请反馈给管理员'\r\n}\r\n","import axios from 'axios';\r\nimport { Notification, MessageBox, Message, Loading } from 'element-ui';\r\nimport errorCode from '@/utils/errorCode'\r\nimport { tansParams, blobValidate } from \"@/utils/slms\";\r\n// import { tokenUrl } from \"@/tokenUrl/tokenUrl.js\";\r\n// import store from \"@/store\";\r\n\r\n// // 是否显示重新登录\r\nexport let isRelogin = { show: false };\r\n\r\naxios.defaults.headers['Content-Type'] = 'application/json;charset=utf-8'\r\n// 创建axios实例\r\nconst service = axios.create({\r\n  // axios中请求配置有baseURL选项，表示请求URL公共部分\r\n  baseURL: '/apis',\r\n\r\n  // 超时\r\n  timeout: 10000\r\n})\r\n\r\n// 正在进行中的请求列表\r\nlet reqList = []\r\n\r\n/**\r\n * 阻止重复请求\r\n * @param {array} reqList - 请求缓存列表\r\n * @param {string} url - 当前请求地址\r\n * @param {function} cancel - 请求中断函数\r\n * @param {string} errorMessage - 请求中断时需要显示的错误信息\r\n */\r\nconst stopRepeatRequest = function (reqList, url, cancel, errorMessage) {\r\n  const errorMsg = errorMessage || ''\r\n  for (let i = 0; i < reqList.length; i++) {\r\n    if (reqList[i] === url) {\r\n      cancel(errorMsg)\r\n      return\r\n    }\r\n  }\r\n  reqList.push(url);\r\n}\r\n\r\n/**\r\n * 允许某个请求可以继续进行\r\n * @param {array} reqList 全部请求列表\r\n * @param {string} url 请求地址\r\n */\r\nconst allowRequest = function (reqList, url) {\r\n  for (let i = 0; i < reqList.length; i++) {\r\n    if (reqList[i] === url) {\r\n      reqList.splice(i, 1)\r\n      break\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// request拦截器\r\nservice.interceptors.request.use(config => {\r\n  // 是否需要设置 token\r\n  // const isToken = (config.headers || {}).isToken === false\r\n  // 是否需要防止数据重复提交\r\n  const isRepeatSubmit = (config.headers || {}).repeatSubmit === false;\r\n\r\n  // if (tokenUrl.indexOf(config.url) > -1) {\r\n  //   //获取cookie\r\n  //   let token = Vue.$cookies.get(\"token\");\r\n\r\n  //   //将token挂在到请求头中\r\n  //   config.headers.token = token;\r\n  // }\r\n  // if (getToken() && !isToken) {\r\n  //   config.headers['Authorization'] = 'Bearer ' + getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\r\n  // }\r\n  // get请求映射params参数\r\n  if (config.method === 'get' && config.params) {\r\n    let url = config.url + '?' + tansParams(config.params);\r\n    url = url.slice(0, -1);\r\n    config.params = {};\r\n    config.url = url;\r\n  }\r\n\r\n\r\n  // /**\r\n  //  * 阻止重复请求。当上个请求未完成时，相同的请求不会进行\r\n  //  */\r\n  // let cancel;\r\n  // // 设置cancelToken对象\r\n  // config.cancelToken = new axios.CancelToken(function (c) {\r\n  //   cancel = c\r\n  // })\r\n  // // 阻止重复请求。当上个请求未完成时，相同的请求不会进行\r\n  // stopRepeatRequest(reqList, config.url, cancel, `${config.url} 请求被中断`);\r\n\r\n  // removereqQueue(config); // 检查是否重复发送请求\r\n  // addreqQueue(config); //将本次请求加入请求队列\r\n\r\n  return config\r\n}, error => {\r\n  Promise.reject(error)\r\n})\r\n// const interval = 1000;      // 请求间隔时间(ms)，小于此时间视为重复提交\r\n// service.interceptors.response.use(\r\n//   (res) => {\r\n//     // 增加延迟，相同请求不得在短时间内重复发送\r\n//     setTimeout(() => {\r\n//       allowRequest(reqList, res.config.url)\r\n//     }, interval)\r\n//     // ...请求成功后的后续操作\r\n//     // successHandler(response)\r\n//     return res\r\n//   },\r\n//   (error) => {\r\n//     if (axios.isCancel(thrown)) {\r\n//       console.log(thrown.message);\r\n//     } else {\r\n//       // 增加延迟，相同请求不得在短时间内重复发送\r\n//       setTimeout(() => {\r\n//         allowRequest(reqList, error.config.url)\r\n//       }, interval)\r\n//     }\r\n//   }\r\n// )\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(res => {\r\n  // 未设置状态码则默认成功状态\r\n  const code = res.data.code || 200;\r\n  // 获取错误信息\r\n  const msg = errorCode[code] || res.data.msg || errorCode['default']\r\n  // 二进制数据则直接返回\r\n  if (res.request.responseType === 'blob' || res.request.responseType === 'arraybuffer') {\r\n    return res.data  //返回调用接口后获取的数据里data里数据\r\n    // return res //返回调用接口后获取的数据\r\n  }\r\n  if (code === 500) {\r\n    Message({\r\n      message: msg,\r\n      type: 'error'\r\n    })\r\n    return Promise.reject(new Error(msg))\r\n  } else if (code !== 200) {\r\n    Notification.error({\r\n      title: msg\r\n    })\r\n    return Promise.reject('error')\r\n  } else {\r\n    return res.data\r\n  }\r\n},\r\n  error => {\r\n    console.log('err' + error)\r\n    let { message } = error;\r\n    if (message == \"Network Error\") {\r\n      message = \"后端接口连接异常\";\r\n    }\r\n    else if (message.includes(\"timeout\")) {\r\n      message = \"系统接口请求超时\";\r\n    }\r\n    else if (message.includes(\"Request failed with status code\")) {\r\n      message = \"系统接口\" + message.substr(message.length - 3) + \"异常\";\r\n    }\r\n    Message({\r\n      message: message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n\r\n\r\n// 通用下载方法\r\nexport function download(url, params, filename) {\r\n  downloadLoadingInstance = Loading.service({ text: \"正在下载数据，请稍候\", spinner: \"el-icon-loading\", background: \"rgba(0, 0, 0, 0.7)\", })\r\n  return service.post(url, params, {\r\n    transformRequest: [(params) => { return tansParams(params) }],\r\n    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n    responseType: 'blob',\r\n    timeout: 3 * 60 * 1000,\r\n  }).then(async (data) => {\r\n    const isLogin = await blobValidate(data);\r\n    if (isLogin) {\r\n      const blob = new Blob([data])\r\n      saveAs(blob, filename)\r\n    } else {\r\n      const resText = await data.text();\r\n      const rspObj = JSON.parse(resText);\r\n      const errMsg = errorCode[rspObj.code] || rspObj.msg || errorCode['default']\r\n      Message.error(errMsg);\r\n    }\r\n    downloadLoadingInstance.close();\r\n  }).catch((r) => {\r\n    console.error(r)\r\n    Message.error('下载文件出现错误，请联系管理员！')\r\n    downloadLoadingInstance.close();\r\n  })\r\n}\r\n\r\nexport default service\r\n","import request from '@/https/http.js';\r\n//首页 获取轮播图\r\nexport function getBanner(query) {\r\n  return request({\r\n    url: '/Banner',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n\r\n//首页 获取分类列表\r\nexport function getClassify(query) {\r\n  return request({\r\n    url: '/AllLabel',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//首页 获取为你推荐列表\r\nexport function getCommend(query) {\r\n  return request({\r\n    url: '/HomeRecommend',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//首页 热门速递列表\r\nexport function getHotlist(query) {\r\n  return request({\r\n    url: '/GetClassPageSixComics',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n\r\n//漫画搜索\r\nexport function comicSearch(query) {\r\n  return request({\r\n    url: '/Search',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//漫画分类列表\r\nexport function ClassPage(query) {\r\n  return request({\r\n    url: '/ClassPage',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n\r\n//漫画详情\r\nexport function getComicDetail(query) {\r\n  return request({\r\n    url: '/ComicDetail',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//漫画更多推荐列表\r\nexport function getRecomm(query) {\r\n  return request({\r\n    url: '/MoreRecommend',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//漫画评论\r\nexport function getReplyMain(query) {\r\n  return request({\r\n    url: '/ReplyMain',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n\r\n//获取排行榜\r\nexport function getRankInfo(query) {\r\n  return request({\r\n    url: '/GetRankInfo',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//漫画获取图片地址列表\r\nexport function getImageIndex(query) {\r\n  return request({\r\n    url: '/GetImageIndex',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n//漫画图片\r\nexport function getImageToken(query) {\r\n  return request({\r\n    url: '/ImageToken',\r\n    method: 'get',\r\n    params: query,\r\n  });\r\n}\r\n\r\n\r\n// export function addBinding(data) {\r\n//   return request({\r\n//     url: '/carrier/binding',\r\n//     method: 'post',\r\n//     data: data,\r\n//   });\r\n// }\r\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","val","_l","item","i","key","on","$event","getId","id","attrs","vertical_cover","domProps","title","items","v","styles","is_finish","directives","name","rawName","value","total","expression","queryParams","pageNum","pageSize","$set","comicSearch","staticRenderFns","data","searchlist","keyWord","created","$route","params","JSON","parse","localStorage","getItem","methods","then","res","list","total_num","comicId","$router","push","component","axios","headers","service","baseURL","timeout","interceptors","request","use","config","repeatSubmit","method","url","tansParams","slice","error","Promise","reject","response","code","msg","errorCode","responseType","Message","message","type","Error","Notification","console","log","includes","substr","length","duration","getBanner","query","getClassify","getCommend","getHotlist","ClassPage","getComicDetail","getRecomm","getReplyMain","getRankInfo","getImageIndex","getImageToken"],"sourceRoot":""}