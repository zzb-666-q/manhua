"use strict";(self["webpackChunkmanhua"]=self["webpackChunkmanhua"]||[]).push([[560],{3560:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("div",{staticClass:"homeBanner"},[s("el-carousel",{attrs:{interval:3e3,type:"card",height:"370px"}},t._l(t.banners,(function(e,i){return s("el-carousel-item",{key:i},[s("img",{attrs:{src:e.img,alt:""},on:{click:function(s){t.getId(e.jump_value.match(t.reg)[0])}}})])})),1)],1),s("div",{staticClass:"home-classifys"},[s("div",{staticClass:"home-classifys-list"},[t._l(t.classifys,(function(e,i){return s("div",{key:i,staticClass:"home-classifys-list-item",on:{click:function(s){return t.goClassify(e.id)}}},[t._v(" "+t._s(e.name)+" ")])})),s("div",{staticClass:"home-classifys-list-item",on:{click:function(e){return t.goClassify(-1)}}},[t._v("全部")])],2)]),s("div",{staticClass:"home-commend"},[s("h2",[t._v("为你推荐")]),s("comicList",{attrs:{list:t.commend},on:{"update:list":function(e){t.commend=e}}})],1),s("div",{staticClass:"home-hot"},[s("div",{staticClass:"home-hot-top"},[s("div",{staticClass:"home-hot-top-left"},[t._m(0),s("div",{staticClass:"hot-top-list"},t._l(t.hot,(function(e,i){return s("div",{key:i,staticClass:"hot-top-list-item",class:t.activeIndex===i?"active":"hot-top-list-item",on:{click:function(s){return t.active(i,e.id)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),s("div",{staticClass:"home-hot-top-right"},[s("el-row",[s("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",round:"",plain:""},on:{click:t.changeHotlist}},[t._v("换一批")])],1)],1)]),s("comicList",{attrs:{list:t.hotlist},on:{"update:list":function(e){t.hotlist=e}}})],1),s("div",{staticClass:"home-classify"},[s("div",{staticClass:"home-classify-top"},[t._m(1),s("div",{staticClass:"home-classify-top-right"},[s("el-row",[s("el-button",{attrs:{type:"primary",round:"",plain:""},on:{click:function(e){return t.goClassify(-1)}}},[t._v("更多"),s("i",{staticClass:"el-icon-arrow-right"})])],1)],1)]),s("comicList",{attrs:{list:t.fantasy},on:{"update:list":function(e){t.fantasy=e}}})],1),s("div",{staticClass:"home-classify"},[s("div",{staticClass:"home-classify-top"},[t._m(2),s("div",{staticClass:"home-classify-top-right"},[s("el-row",[s("el-button",{attrs:{type:"primary",round:"",plain:""},on:{click:function(e){t.goClassify(-1)(-1)}}},[t._v("更多"),s("i",{staticClass:"el-icon-arrow-right"})])],1)],1)]),s("comicList",{attrs:{list:t.martialArts},on:{"update:list":function(e){t.martialArts=e}}})],1),s("div",{staticClass:"home-classify"},[s("div",{staticClass:"home-classify-top"},[t._m(3),s("div",{staticClass:"home-classify-top-right"},[s("el-row",[s("el-button",{attrs:{type:"primary",round:"",plain:""},on:{click:function(e){return t.goClassify(-1)}}},[t._v("更多"),s("i",{staticClass:"el-icon-arrow-right"})])],1)],1)]),s("comicList",{attrs:{list:t.urban},on:{"update:list":function(e){t.urban=e}}})],1)])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hot-top-title"},[s("h2",[t._v("热门速递")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-classify-top-left"},[s("div",{staticClass:"classify-top-title"},[s("h2",[t._v("玄幻")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-classify-top-left"},[s("div",{staticClass:"classify-top-title"},[s("h2",[t._v("武侠仙侠")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-classify-top-left"},[s("div",{staticClass:"classify-top-title"},[s("h2",[t._v("都市生活")])])])}],r=s(7840),n={name:"home",data(){return{activeIndex:0,banners:[],classifys:[],commend:[],hot:[{type:3,id:1012,name:"今日热门速递",color:""},{type:3,id:1023,name:"前方在线炒股！",color:""},{type:3,id:1035,name:"征服，异世界！",color:""}],hotlist:[],pageNum:1,titlelist:[{id:1016,name:"玄幻"},{id:1092,name:"武侠仙侠"},{id:1002,name:"都市生活"}],urban:[],fantasy:[],martialArts:[],reg:/\d{5}/gi}},created(){this.bannerlist(),this.getClassify(),this.getCommend(),this.getHotlist(1012,this.pageNum,10),this.getClassifyList(this.titlelist[0].id,this.pageNum,11),this.getClassifyList(this.titlelist[1].id,this.pageNum,10),this.getClassifyList(this.titlelist[2].id,this.pageNum,11)},methods:{bannerlist(){(0,r.Eg)().then((t=>{this.banners=t.data})).catch((t=>{console.log("err==>",t)}))},getClassify(){(0,r.K)().then((t=>{this.classifys=t.data.styles})).catch((t=>{console.log("err==>",t)}))},getCommend(){(0,r.T4)().then((t=>{this.commend=t.data.list})).catch((t=>{console.log("err==>",t)}))},getHotlist(t,e,s){let i={id:t,pageNum:e,pageSize:s,isAll:1};(0,r.R9)(i).then((t=>{this.hotlist=t.data.roll_six_comics})).catch((t=>{console.log("err==>",t)}))},active(t,e){this.activeIndex=t,this.getHotlist(e,1,10),this.pageNum=1},changeHotlist(){this.pageNum++,this.pageNum>6&&(this.pageNum=1);let t=this.activeIndex,e=this.hot[t].id;this.getHotlist(e,this.pageNum,10)},getClassifyList(t,e,s){let i={styleId:t,pageNum:e,pageSize:s};(0,r.tC)(i).then((e=>{1016===t&&(this.fantasy=e.data),1092===t&&(this.martialArts=e.data),1002===t&&(this.urban=e.data)})).catch((t=>{console.log("err==>",t)}))},getId(t){this.$router.push({name:"cartoondetail",params:{comicId:t}})},goClassify(t){this.$router.push({name:"classify"}),t&&this.$store.commit("setClassID",t)}}},o=n,l=s(1001),c=(0,l.Z)(o,i,a,!1,null,"4c66f5d0",null),u=c.exports},7840:function(t,e,s){s.d(e,{tC:function(){return p},m6:function(){return f},Eg:function(){return u},K:function(){return m},zG:function(){return g},T4:function(){return h},R9:function(){return d},Ve:function(){return _},wN:function(){return b},JV:function(){return C},qV:function(){return y},fh:function(){return v}});s(1703);var i=s(6166),a=s.n(i),r=s(4549),n={401:"认证失败，无法访问系统资源",403:"当前操作没有权限",404:"访问资源不存在",default:"系统未知错误，请反馈给管理员"},o=s(4406);a().defaults.headers["Content-Type"]="application/json;charset=utf-8";const l=a().create({baseURL:"/apis",timeout:1e4});l.interceptors.request.use((t=>{(t.headers||{}).repeatSubmit;if("get"===t.method&&t.params){let e=t.url+"?"+(0,o.jC)(t.params);e=e.slice(0,-1),t.params={},t.url=e}return t}),(t=>{Promise.reject(t)})),l.interceptors.response.use((t=>{const e=t.data.code||200,s=n[e]||t.data.msg||n["default"];return"blob"===t.request.responseType||"arraybuffer"===t.request.responseType?t.data:500===e?((0,r.Message)({message:s,type:"error"}),Promise.reject(new Error(s))):200!==e?(r.Notification.error({title:s}),Promise.reject("error")):t.data}),(t=>{console.log("err"+t);let{message:e}=t;return"Network Error"==e?e="后端接口连接异常":e.includes("timeout")?e="系统接口请求超时":e.includes("Request failed with status code")&&(e="系统接口"+e.substr(e.length-3)+"异常"),(0,r.Message)({message:e,type:"error",duration:5e3}),Promise.reject(t)}));var c=l;function u(t){return c({url:"/Banner",method:"get",params:t})}function m(t){return c({url:"/AllLabel",method:"get",params:t})}function h(t){return c({url:"/HomeRecommend",method:"get",params:t})}function d(t){return c({url:"/GetClassPageSixComics",method:"get",params:t})}function f(t){return c({url:"/Search",method:"get",params:t})}function p(t){return c({url:"/ClassPage",method:"get",params:t})}function g(t){return c({url:"/ComicDetail",method:"get",params:t})}function y(t){return c({url:"/MoreRecommend",method:"get",params:t})}function v(t){return c({url:"/ReplyMain",method:"get",params:t})}function C(t){return c({url:"/GetRankInfo",method:"get",params:t})}function _(t){return c({url:"/GetImageIndex",method:"get",params:t})}function b(t){return c({url:"/ImageToken",method:"get",params:t})}}}]);
//# sourceMappingURL=560.5922aa3a.js.map