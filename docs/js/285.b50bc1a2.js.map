{"version":3,"file":"js/285.b50bc1a2.js","mappings":"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","sources":["webpack://manhua/./src/views/Classify.vue?3037","webpack://manhua/src/views/Classify.vue","webpack://manhua/./src/views/Classify.vue?3269","webpack://manhua/./src/views/Classify.vue","webpack://manhua/./src/utils/errorCode.js","webpack://manhua/./src/utils/request.js","webpack://manhua/./src/api/comics.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"classify\"},[_c('div',{staticClass:\"classify-top\"},_vm._l((_vm.classifys),function(items,index){return _c('div',{key:index,staticClass:\"classify-top-list\",class:items.type},[_c('div',{staticClass:\"classify-top-list-item a1\"},[_vm._v(\" \"+_vm._s(index === 0 ? \"题材\" : \"\")+_vm._s(index === 1 ? \"地区\" : \"\")+_vm._s(index === 2 ? \"进度\" : \"\")+_vm._s(index === 3 ? \"排序\" : \"\")+_vm._s(index === 4 ? \"收费\" : \"\")+\" \")]),_vm._l((items.list),function(item,i){return _c('div',{key:i,staticClass:\"classify-top-list-item\",class:{ active: i === 0 },on:{\"click\":function($event){return _vm.active(items.type, item.id, $event)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])})],2)}),0),_c('div',{staticClass:\"classify-result\"},[_c('div',{staticClass:\"classify-result-list\"},_vm._l((_vm.classifyResult),function(item,i){return _c('div',{key:i,staticClass:\"classify-result-list-item\",on:{\"click\":function($event){return _vm.getId(item.season_id)}}},[_c('div',{staticClass:\"classify-result-list-item-img\"},[_c('img',{attrs:{\"src\":item.vertical_cover,\"alt\":\"\"}})]),_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"ord\"},[_vm._v(\" \"+_vm._s(item.is_finish == 0 ? \"更新至\" : \"[完结] 共\")+\" \"+_vm._s(item.last_ord)+\" 话 \")])])}),0)]),_c('div',{staticClass:\"empty\"},[(_vm.classifyResult.length == 0)?_c('el-empty',{attrs:{\"description\":\"暂无数据\"}}):_vm._e()],1),_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total > 0),expression:\"total > 0\"}],attrs:{\"align\":\"center\",\"total\":_vm.total,\"page\":_vm.queryParams.pageNum,\"limit\":_vm.queryParams.pageSize},on:{\"update:page\":function($event){return _vm.$set(_vm.queryParams, \"pageNum\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.queryParams, \"pageSize\", $event)},\"pagination\":_vm.getClassPage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"classify\">\r\n    <div class=\"classify-top\">\r\n      <div class=\"classify-top-list\" v-for=\"(items, index) in classifys\" :key=\"index\" :class=\"items.type\">\r\n        <div class=\"classify-top-list-item a1\">\r\n          {{ index === 0 ? \"题材\" : \"\" }}{{ index === 1 ? \"地区\" : \"\"\r\n          }}{{ index === 2 ? \"进度\" : \"\" }}{{ index === 3 ? \"排序\" : \"\"\r\n          }}{{ index === 4 ? \"收费\" : \"\" }}\r\n        </div>\r\n        <div class=\"classify-top-list-item\" v-for=\"(item, i) in items.list\" :key=\"i\"\r\n          @click=\"active(items.type, item.id, $event)\" :class=\"{ active: i === 0 }\">\r\n          {{ item.name }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"classify-result\">\r\n      <div class=\"classify-result-list\">\r\n        <div class=\"classify-result-list-item\" v-for=\"(item, i) in classifyResult\" :key=\"i\"\r\n          @click=\"getId(item.season_id)\">\r\n          <div class=\"classify-result-list-item-img\">\r\n            <img :src=\"item.vertical_cover\" alt=\"\" />\r\n          </div>\r\n          <div class=\"text\">{{ item.title }}</div>\r\n          <div class=\"ord\">\r\n            {{ item.is_finish == 0 ? \"更新至\" : \"[完结] 共\" }}\r\n            {{ item.last_ord }} 话\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"empty\">\r\n      <el-empty v-if=\"classifyResult.length == 0\" description=\"暂无数据\"></el-empty>\r\n    </div >\r\n      <pagination align=\"center\" v-show=\"total > 0\" :total=\"total\" :page.sync=\"queryParams.pageNum\"\r\n        :limit.sync=\"queryParams.pageSize\" @pagination=\"getClassPage\" />\r\n    <!-- <div class=\"btn\">\r\n      <el-button type=\"primary\" v-if=\"classifyResult.length >= 30\" @click=\"jiazai\">加载更多</el-button>\r\n    </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ClassPage } from \"@/api/comics\";\r\nexport default {\r\n  name: \"classify\",\r\n  data() {\r\n    return {\r\n      classifys: [],\r\n      xuan: [],\r\n      classifyResult: [],\r\n      pageSize: 39,\r\n      total:100,\r\n      classifyslist: [],\r\n      queryParams: {\r\n        styleId: '',\r\n        areaId: '',\r\n        isFinish: '',\r\n        order: '',\r\n        isFree: '',\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.xuan.styles = this.$route.params.styleId;\r\n    if (this.xuan.styles) {\r\n      console.log(\"this.xuan.styles==>\", this.xuan.styles);\r\n      this.getClassPage(this.xuan.styles);\r\n    } else {\r\n      this.getClassPage();\r\n    }\r\n\r\n    this.getClassify();\r\n\r\n    this.classifys.forEach((ele, i) => {\r\n      console.log(ele);\r\n    });\r\n  },\r\n\r\n  methods: {\r\n    //获取分类列表\r\n    getClassify() {\r\n      this.axios({\r\n        //请求类型\r\n        method: \"get\",\r\n        //请求路径\r\n        url: \"https://apis.netstart.cn/bcomic/AllLabel\",\r\n      })\r\n        .then((result) => {\r\n          let arr = { id: -1, name: \"全部\" };\r\n          let a = result.data.data;\r\n          let i = 0;\r\n          for (const key in a) {\r\n            if (key != \"orders\") {\r\n              a[key].unshift(arr);\r\n            }\r\n            this.classifys.push({ classifysId: i++, type: key, list: a[key] });\r\n          }\r\n          this.classifys.forEach((ele) => {\r\n            if (ele.type == \"orders\") {\r\n              ele.classifysId = 4;\r\n            }\r\n            if (ele.type == \"prices\") {\r\n              ele.classifysId = 3;\r\n            }\r\n          });\r\n          function sortArr(a, b) {\r\n            return a.classifysId - b.classifysId;\r\n          }\r\n          this.classifys.sort(sortArr);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"err==>\", err);\r\n        });\r\n    },\r\n    //点击切换条件\r\n    active(type, id, event) {\r\n      let active = document.querySelectorAll(\r\n        `.${type}>.classify-top-list-item`\r\n      );\r\n      active.forEach((v) => {\r\n        v.classList.remove(\"active\");\r\n      });\r\n      event.srcElement.classList.add(\"active\");\r\n      if (type) {\r\n        this.xuan[`${type}`] = id;\r\n        this.queryParams.styleId = this.xuan.styles;\r\n        this.queryParams.areaId = this.xuan.areas;\r\n        this.queryParams.isFinish = this.xuan.status;\r\n        this.queryParams.isFree = this.xuan.prices;\r\n        this.queryParams.order = this.xuan.orders;\r\n        this.getClassPage(\r\n          this.xuan.styles,\r\n          this.xuan.areas,\r\n          this.xuan.status,\r\n          this.xuan.prices,\r\n          this.xuan.orders\r\n        );\r\n      }\r\n    },\r\n    //分类筛选结果列表\r\n    getClassPage(styleId, areaId, isFinish, isFree, order) {\r\n      ClassPage(this.queryParams).then(res=>{\r\n        this.classifyResult = res.data;\r\n\r\n      })\r\n      //发起请求\r\n      // this.axios({\r\n      //   method: \"get\",\r\n      //   url: \"https://apis.netstart.cn/bcomic/ClassPage\",\r\n      //   params: {\r\n      //     styleId,\r\n      //     areaId,\r\n      //     isFinish,\r\n      //     order,\r\n      //     pageNum: 1,\r\n      //     pageSize: this.pageSize,\r\n      //     isFree,\r\n      //   },\r\n      // })\r\n      //   .then((result) => {\r\n      //     this.classifyResult = result.data.data;\r\n      //   })\r\n      //   .catch((err) => {\r\n      //     console.log(\"err==>\", err);\r\n      //   });\r\n    },\r\n    //传递漫画的id\r\n    getId(comicId) {\r\n      // console.log(\"comicId ==> \", comicId);\r\n      this.$router.push({ name: \"cartoondetail\", params: { comicId } });\r\n    },\r\n    /** 更多加载 */\r\n    jiazai() {\r\n      this.pageSize += 37;\r\n      this.getClassPage(\r\n        this.xuan.styles,\r\n        this.xuan.areas,\r\n        this.xuan.status,\r\n        this.xuan.prices,\r\n        this.xuan.orders\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.classify {\r\n  .classify-top {\r\n    width: 80%;\r\n    margin: 0 auto;\r\n    margin-bottom: 30px;\r\n\r\n    .classify-top-list {\r\n      display: flex;\r\n      margin-bottom: 20px;\r\n\r\n      .classify-top-list-item {\r\n        cursor: pointer;\r\n        margin-right: 20px;\r\n        &:hover {\r\n          color: #32aaff;\r\n        }\r\n      }\r\n\r\n      .a1 {\r\n        color: rgb(184, 187, 187);\r\n        cursor: default;\r\n        &:hover {\r\n          color: rgb(184, 187, 187);\r\n          cursor: default;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .classify-result {\r\n    width: 80%;\r\n    margin: 0 auto;\r\n\r\n    .classify-result-list {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n\r\n      .classify-result-list-item {\r\n        width: 19%;\r\n        margin-right: 1.25%;\r\n        margin-bottom: 30px;\r\n        &:nth-child(5n){\r\n          margin-right: 0;\r\n        }\r\n        .classify-result-list-item-img {\r\n          width: 100%;\r\n\r\n          img {\r\n            width: 100%;\r\n          }\r\n        }\r\n\r\n        .text {\r\n          display: -webkit-box;\r\n          -webkit-line-clamp: 1;\r\n          -webkit-box-orient: vertical;\r\n          overflow: hidden;\r\n          margin-bottom: 5px;\r\n        }\r\n\r\n        .ord {\r\n          font-size: 15px;\r\n          color: rgba(0, 0, 0, 0.34);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .empty {\r\n    width: 1000px;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n\r\n    .el-empty {\r\n      .el-empty__image {\r\n        width: 500px;\r\n      }\r\n\r\n      /deep/p {\r\n        font-size: 20px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .btn {\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n.active {\r\n  color: #32aaff;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Classify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Classify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Classify.vue?vue&type=template&id=574c199a&scoped=true&\"\nimport script from \"./Classify.vue?vue&type=script&lang=js&\"\nexport * from \"./Classify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Classify.vue?vue&type=style&index=0&id=574c199a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"574c199a\",\n  null\n  \n)\n\nexport default component.exports","export default {\n  '401': '认证失败，无法访问系统资源',\n  '403': '当前操作没有权限',\n  '404': '访问资源不存在',\n  'default': '系统未知错误，请反馈给管理员'\n}\n","import axios from 'axios'\nimport { Notification, MessageBox, Message, Loading } from 'element-ui'\nimport store from '@/store'\nimport errorCode from '@/utils/errorCode'\nimport { tansParams, blobValidate } from \"@/utils/slms\";\n\n// let downloadLoadingInstance;\n// // 是否显示重新登录\n// export let isRelogin = { show: false };\n\naxios.defaults.headers['Content-Type'] = 'application/json;charset=utf-8'\n    // 创建axios实例\nconst service = axios.create({\n    // axios中请求配置有baseURL选项，表示请求URL公共部分\n    baseURL: 'https://apis.netstart.cn/bcomic',\n    // 超时\n    timeout: 10000\n})\n\n\n// request拦截器\nservice.interceptors.request.use(config => {\n\n\n\n    // 是否需要设置 token\n    // const isToken = (config.headers || {}).isToken === false\n    // 是否需要防止数据重复提交\n    const isRepeatSubmit = (config.headers || {}).repeatSubmit === false\n        // if (getToken() && !isToken) {\n        //   config.headers['Authorization'] = 'Bearer ' + getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\n        // }\n        // get请求映射params参数\n    if (config.method === 'get' && config.params) {\n        let url = config.url + '?' + tansParams(config.params);\n        url = url.slice(0, -1);\n        config.params = {};\n        config.url = url;\n    }\n    if (!isRepeatSubmit && (config.method === 'post' || config.method === 'put')) {\n        const requestObj = {\n            url: config.url,\n            data: typeof config.data === 'object' ? JSON.stringify(config.data) : config.data,\n            time: new Date().getTime()\n        }\n        const sessionObj = cache.session.getJSON('sessionObj')\n        if (sessionObj === undefined || sessionObj === null || sessionObj === '') {\n            cache.session.setJSON('sessionObj', requestObj)\n        } else {\n            const s_url = sessionObj.url; // 请求地址\n            const s_data = sessionObj.data; // 请求数据\n            const s_time = sessionObj.time; // 请求时间\n            const interval = 1000; // 间隔时间(ms)，小于此时间视为重复提交\n            if (s_data === requestObj.data && requestObj.time - s_time < interval && s_url === requestObj.url) {\n                const message = '数据正在处理，请勿重复提交';\n                console.warn(`[${s_url}]: ` + message)\n                return Promise.reject(new Error(message))\n            } else {\n                cache.session.setJSON('sessionObj', requestObj)\n            }\n        }\n    }\n    return config\n}, error => {\n    console.log(error)\n    Promise.reject(error)\n})\n\n// 响应拦截器\nservice.interceptors.response.use(res => {\n        // 未设置状态码则默认成功状态\n        const code = res.data.code || 200;\n        // 获取错误信息\n        const msg = errorCode[code] || res.data.msg || errorCode['default']\n            // 二进制数据则直接返回\n        if (res.request.responseType === 'blob' || res.request.responseType === 'arraybuffer') {\n            return res.data\n        }\n        if (code === 500) {\n            Message({\n                message: msg,\n                type: 'error'\n            })\n            return Promise.reject(new Error(msg))\n        } else if (code !== 200) {\n            Notification.error({\n                title: msg\n            })\n            return Promise.reject('error')\n        } else {\n            return res.data\n        }\n    },\n    error => {\n        console.log('err' + error)\n        let { message } = error;\n        if (message == \"Network Error\") {\n            message = \"后端接口连接异常\";\n        } else if (message.includes(\"timeout\")) {\n            message = \"系统接口请求超时\";\n        } else if (message.includes(\"Request failed with status code\")) {\n            message = \"系统接口\" + message.substr(message.length - 3) + \"异常\";\n        }\n        Message({\n            message: message,\n            type: 'error',\n            duration: 5 * 1000\n        })\n        return Promise.reject(error)\n    }\n)\n\n// 通用下载方法\nexport function download(url, params, filename) {\n    downloadLoadingInstance = Loading.service({ text: \"正在下载数据，请稍候\", spinner: \"el-icon-loading\", background: \"rgba(0, 0, 0, 0.7)\", })\n    return service.post(url, params, {\n        transformRequest: [(params) => { return tansParams(params) }],\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n        responseType: 'blob',\n        timeout: 3 * 60 * 1000,\n    }).then(async(data) => {\n        const isLogin = await blobValidate(data);\n        if (isLogin) {\n            const blob = new Blob([data])\n            saveAs(blob, filename)\n        } else {\n            const resText = await data.text();\n            const rspObj = JSON.parse(resText);\n            const errMsg = errorCode[rspObj.code] || rspObj.msg || errorCode['default']\n            Message.error(errMsg);\n        }\n        downloadLoadingInstance.close();\n    }).catch((r) => {\n        console.error(r)\n        Message.error('下载文件出现错误，请联系管理员！')\n        downloadLoadingInstance.close();\n    })\n}\n\nexport default service","import request from '@/utils/request'\n\n//漫画搜索\nexport function comicSearch(query) {\n  return request({\n    url: '/Search',\n    method: 'get',\n    params: query\n  })\n}\n//漫画搜索\nexport function ClassPage(query) {\n  return request({\n    url: 'ClassPage',\n    method: 'get',\n    params: query\n  })\n}\n\n// 新增承运商揽件地址绑定\nexport function addBinding(data) {\n    return request({\n      url: '/carrier/binding',\n      method: 'post',\n      data: data\n    })\n  }"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","items","index","key","class","type","_v","_s","item","i","active","on","$event","id","name","getId","season_id","attrs","vertical_cover","title","is_finish","last_ord","classifyResult","length","_e","directives","rawName","value","total","expression","queryParams","pageNum","pageSize","$set","getClassPage","staticRenderFns","data","classifys","xuan","classifyslist","styleId","areaId","isFinish","order","isFree","created","styles","$route","params","console","log","getClassify","forEach","ele","methods","axios","method","url","then","result","a","classifysId","list","catch","err","event","document","querySelectorAll","v","classList","remove","srcElement","add","areas","status","prices","orders","ClassPage","res","comicId","$router","push","jiazai","component","headers","service","baseURL","timeout","interceptors","request","use","config","isRepeatSubmit","repeatSubmit","tansParams","slice","requestObj","JSON","stringify","time","Date","getTime","sessionObj","cache","session","getJSON","undefined","setJSON","s_url","s_data","s_time","interval","message","warn","Promise","reject","Error","error","response","code","msg","errorCode","responseType","Message","Notification","includes","substr","duration","comicSearch","query"],"sourceRoot":""}