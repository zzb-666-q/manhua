"use strict";(self["webpackChunkmanhua"]=self["webpackChunkmanhua"]||[]).push([[773],{5773:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"comicsearch"},[s("div",{staticClass:"search-top"},[s("div",{staticClass:"val"},[s("span",{staticClass:"keyword"},[e._v('"'+e._s(e.val)+'"')]),e._v("的搜索结果 ")])]),s("div",{staticClass:"searchlist"},e._l(e.searchlist,(function(t,a){return s("div",{key:a,staticClass:"searchlist-item"},[s("div",{staticClass:"item-img",on:{click:function(s){return e.getId(t.id)}}},[s("img",{attrs:{src:t.vertical_cover,alt:""}})]),s("div",{staticClass:"item-text"},[s("div",{staticClass:"title",domProps:{innerHTML:e._s(t.title)},on:{click:function(s){return e.getId(t.id)}}}),s("div",{staticClass:"author_name"},e._l(t.author_name,(function(t,a){return s("div",{key:a,staticClass:"author",domProps:{innerHTML:e._s(t)}})})),0),s("div",{staticClass:"styles"},[e._v(e._s(t.styles[0]))]),s("div",{staticClass:"Serial"},[e._v(" "+e._s(0==t.is_finish?"连载中":"已完结")+" ")])])])})),0),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.comicSearch}})],1)},r=[],i=s(7344),o={name:"comicsearch",data(){return{searchlist:[],total:0,queryParams:{pageNum:1,pageSize:10,keyWord:"斗罗"}}},created(){this.val=this.$route.params.val;let e=JSON.parse(localStorage.getItem("comicSearch"));this.val||(this.val=e.val),this.queryParams.keyWord=this.val,this.comicSearch()},methods:{comicSearch(){(0,i.m6)(this.queryParams).then((e=>{this.searchlist=e.data.list,this.total=e.data.total_num}))},getId(e){this.$router.push({name:"cartoondetail",params:{comicId:e}})}}},n=o,c=s(1001),l=(0,c.Z)(n,a,r,!1,null,"410bf31a",null),u=l.exports},7344:function(e,t,s){s.d(t,{tC:function(){return m},m6:function(){return u}});s(1703);var a=s(6166),r=s.n(a),i=s(4549),o=(s(615),{401:"认证失败，无法访问系统资源",403:"当前操作没有权限",404:"访问资源不存在",default:"系统未知错误，请反馈给管理员"}),n=s(4406);r().defaults.headers["Content-Type"]="application/json;charset=utf-8";const c=r().create({baseURL:"https://apis.netstart.cn/bcomic",timeout:1e4});c.interceptors.request.use((e=>{const t=!1===(e.headers||{}).repeatSubmit;if("get"===e.method&&e.params){let t=e.url+"?"+(0,n.jC)(e.params);t=t.slice(0,-1),e.params={},e.url=t}if(!t&&("post"===e.method||"put"===e.method)){const t={url:e.url,data:"object"===typeof e.data?JSON.stringify(e.data):e.data,time:(new Date).getTime()},s=cache.session.getJSON("sessionObj");if(void 0===s||null===s||""===s)cache.session.setJSON("sessionObj",t);else{const e=s.url,a=s.data,r=s.time,i=1e3;if(a===t.data&&t.time-r<i&&e===t.url){const t="数据正在处理，请勿重复提交";return console.warn(`[${e}]: `+t),Promise.reject(new Error(t))}cache.session.setJSON("sessionObj",t)}}return e}),(e=>{console.log(e),Promise.reject(e)})),c.interceptors.response.use((e=>{const t=e.data.code||200,s=o[t]||e.data.msg||o["default"];return"blob"===e.request.responseType||"arraybuffer"===e.request.responseType?e.data:500===t?((0,i.Message)({message:s,type:"error"}),Promise.reject(new Error(s))):200!==t?(i.Notification.error({title:s}),Promise.reject("error")):e.data}),(e=>{console.log("err"+e);let{message:t}=e;return"Network Error"==t?t="后端接口连接异常":t.includes("timeout")?t="系统接口请求超时":t.includes("Request failed with status code")&&(t="系统接口"+t.substr(t.length-3)+"异常"),(0,i.Message)({message:t,type:"error",duration:5e3}),Promise.reject(e)}));var l=c;function u(e){return l({url:"/Search",method:"get",params:e})}function m(e){return l({url:"ClassPage",method:"get",params:e})}}}]);
//# sourceMappingURL=773.ef85cfae.js.map